import \'package:flutter/material.dart\';\nimport \'package:swiitch/ai_assistant_screen.dart\';\nimport \'package:swiitch/home_screen.dart\';\nimport \'package:swiitch/transaction_screen.dart\';\n\nclass MainScreen extends StatefulWidget {\n  @override\n  _MainScreenState createState() => _MainScreenState();\n}\n\nclass _MainScreenState extends State<MainScreen> {\n  // This key will be used to programmatically trigger navigation\n  final GlobalKey<NavigatorState> _navigatorKey = GlobalKey<NavigatorState>();\n\n  void _navigateTo(String route) {\n    switch (route) {\n      case \'home\':\n        _navigatorKey.currentState?.pushReplacement(MaterialPageRoute(builder: (_) => HomeScreen()));\n        break;\n      case \'transactions\':\n        _navigatorKey.currentState?.push(MaterialPageRoute(builder: (_) => TransactionScreen()));\n        break;\n      // Add other routes here\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Navigator(\n        key: _navigatorKey,\n        initialRoute: \'home\',\n        onGenerateRoute: (settings) {\n          WidgetBuilder builder;\n          switch (settings.name) {\n            case \'home\':\n              builder = (_) => HomeScreen();\n              break;\n            case \'transactions\':\n              builder = (_) => TransactionScreen();\n              break;\n            default:\n              throw Exception(\'Invalid route: \${settings.name}\');\n          }\n          return MaterialPageRoute(builder: builder, settings: settings);\n        },\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () async {\n          final result = await Navigator.push(\n            context,\n            MaterialPageRoute(builder: (context) => AIAssistantScreen()),\n          );\n\n          if (result != null && result is String) {\n            _navigateTo(result);\n          }\n        },\n        child: Icon(Icons.assistant),\n        tooltip: \'Ask Jools\',\n      ),\n    );\n  }\n}\n